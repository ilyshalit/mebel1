<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –ü—Ä–∏–º–µ—Ä–∫–∞ –ú–µ–±–µ–ª–∏ - –ü—Ä–µ–º–∏—É–º –†–µ—à–µ–Ω–∏–µ</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>–í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –ü—Ä–∏–º–µ—Ä–∫–∞ –ú–µ–±–µ–ª–∏ –≤ –í–∞—à –ò–Ω—Ç–µ—Ä—å–µ—Ä</h1>
            <p class="subtitle">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–º –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–æ–º</p>
        </header>

        <main>
            <!-- –®–∞–≥ 1: –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π -->
            <section class="step" id="step1">
                <h2>–°–æ–∑–¥–∞–π—Ç–µ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é</h2>
                
                <div class="upload-grid">
                    <!-- –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–º–Ω–∞—Ç—ã -->
                    <div class="upload-box">
                        <h3>üì∑ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –ò–Ω—Ç–µ—Ä—å–µ—Ä–∞</h3>
                        <div class="drop-zone" id="roomDropZone">
                            <input type="file" id="roomInput" accept="image/*" hidden>
                            <div class="drop-zone-content">
                                <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                    <polyline points="17 8 12 3 7 8"></polyline>
                                    <line x1="12" y1="3" x2="12" y2="15"></line>
                                </svg>
                                <p>–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞</p>
                            </div>
                            <img id="roomPreview" class="preview-image" style="display: none;" alt="Room preview">
                        </div>
                    </div>

                    <!-- –ó–∞–≥—Ä—É–∑–∫–∞ –º–µ–±–µ–ª–∏ -->
                    <div class="upload-box">
                        <h3>ü™ë –ü—Ä–µ–¥–º–µ—Ç—ã –ú–µ–±–µ–ª–∏</h3>
                        <div class="tabs">
                            <button class="tab active" data-tab="upload">–ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
                            <button class="tab" data-tab="catalog">–ò–∑ –ö–∞—Ç–∞–ª–æ–≥–∞</button>
                        </div>
                        
                        <!-- Tab: –ó–∞–≥—Ä—É–∑–∫–∞ -->
                        <div class="tab-content active" id="uploadTab">
                            <div class="drop-zone" id="furnitureDropZone">
                                <input type="file" id="furnitureInput" accept="image/*" multiple hidden>
                                <div class="drop-zone-content">
                                    <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                        <polyline points="17 8 12 3 7 8"></polyline>
                                        <line x1="12" y1="3" x2="12" y2="15"></line>
                                    </svg>
                                    <p>–ó–∞–≥—Ä—É–∑–∏—Ç–µ –¥–æ 5 –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –º–µ–±–µ–ª–∏</p>
                                </div>
                                <!-- –ü—Ä–µ–≤—å—é –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ -->
                                <div id="furniturePreviewGrid" class="furniture-preview-grid" style="display: none;"></div>
                            </div>
                        </div>

                        <!-- Tab: –ö–∞—Ç–∞–ª–æ–≥ -->
                        <div class="tab-content" id="catalogTab">
                            <div id="catalogGrid" class="catalog-grid">
                                <p class="empty-catalog">–ö–∞—Ç–∞–ª–æ–≥ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ -->
            <section class="catalog-preview" id="catalogPreview" style="display: none;">
                <h2>–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –¢–æ–≤–∞—Ä—ã</h2>
                <p class="catalog-subtitle">–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–±–µ–ª—å –∏–∑ –Ω–∞—à–µ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞</p>
                <div id="catalogPreviewGrid" class="catalog-products"></div>
            </section>

            <!-- –®–∞–≥ 2: –í—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è -->
            <section class="step" id="step2" style="display: none;">
                <h2>–†–µ–∂–∏–º –†–∞–∑–º–µ—â–µ–Ω–∏—è</h2>
                
                <div class="mode-selection">
                    <button class="mode-btn active" id="autoMode">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                            <path d="M2 17l10 5 10-5"></path>
                            <path d="M2 12l10 5 10-5"></path>
                        </svg>
                        <h3>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π</h3>
                        <p>–ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç –ø–æ–¥–±–µ—Ä–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ</p>
                    </button>
                    
                    <button class="mode-btn" id="manualMode">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M20 9v11a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9"></path>
                            <path d="M9 22V12h6v10M2 10.6L12 2l10 8.6"></path>
                        </svg>
                        <h3>–†—É—á–Ω–æ–µ –†–∞–∑–º–µ—â–µ–Ω–∏–µ</h3>
                        <p>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ—á–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ</p>
                    </button>
                </div>

                <!-- Canvas –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞ -->
                <div id="manualSelection" class="manual-selection" style="display: none;">
                    <p class="instruction">–í—ã–¥–µ–ª–∏—Ç–µ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–æ–º –æ–±–ª–∞—Å—Ç—å –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –º–µ–±–µ–ª–∏</p>
                    <div class="canvas-container">
                        <canvas id="roomCanvas"></canvas>
                    </div>
                    <div class="manual-controls">
                        <div class="rotation-toggle">
                            <span class="toggle-label">–û—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è:</span>
                            <label class="toggle-option">
                                <input type="radio" name="rotation" value="0" checked>
                                <span>–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è</span>
                            </label>
                            <label class="toggle-option">
                                <input type="radio" name="rotation" value="90">
                                <span>–í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è (90¬∞)</span>
                            </label>
                        </div>
                        <div class="rotation-toggle" style="margin-top: var(--spacing-md);">
                            <span class="toggle-label">–†–∞–∑–º–µ—â–µ–Ω–∏–µ —É —Å—Ç–µ–Ω—ã:</span>
                            <label class="toggle-option">
                                <input type="radio" name="wall" value="auto" checked>
                                <span>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</span>
                            </label>
                            <label class="toggle-option">
                                <input type="radio" name="wall" value="right">
                                <span>–ü—Ä–∞–≤–∞—è</span>
                            </label>
                            <label class="toggle-option">
                                <input type="radio" name="wall" value="left">
                                <span>–õ–µ–≤–∞—è</span>
                            </label>
                            <label class="toggle-option">
                                <input type="radio" name="wall" value="back">
                                <span>–î–∞–ª—å–Ω—è—è</span>
                            </label>
                        </div>
                    </div>
                </div>

                <button class="btn-primary" id="generateBtn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                        <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
                        <line x1="12" y1="22.08" x2="12" y2="12"></line>
                    </svg>
                    –°–æ–∑–¥–∞—Ç—å –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é
                </button>
            </section>

            <!-- –®–∞–≥ 3: –†–µ–∑—É–ª—å—Ç–∞—Ç -->
            <section class="step" id="step3" style="display: none;">
                <h2>–í–∞—à –†–µ–∑—É–ª—å—Ç–∞—Ç</h2>
                
                <div id="loadingState" class="loading-state">
                    <div class="spinner"></div>
                    <p>–°–æ–∑–¥–∞–µ–º –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é...</p>
                    <p class="loading-substep">–ê–Ω–∞–ª–∏–∑ –∏–Ω—Ç–µ—Ä—å–µ—Ä–∞ –∏ –ø–æ–¥–±–æ—Ä –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è</p>
                </div>

                <div id="resultState" class="result-state" style="display: none;">
                    <div class="result-image-container">
                        <img id="resultImage" alt="Result">
                    </div>

                    <div class="result-info">
                        <p>‚úì –ì–æ—Ç–æ–≤–æ –∑–∞ <span id="generationTime">-</span> —Å–µ–∫</p>
                    </div>

                    <!-- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ AI -->
                    <div id="upsellSection" class="upsell-section" style="display: none;">
                        <h3>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –î–∏–∑–∞–π–Ω–µ—Ä–∞</h3>
                        <div id="upsellGrid" class="upsell-grid"></div>
                    </div>

                    <div class="result-actions">
                        <button class="btn-secondary" id="downloadBtn">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="7 10 12 15 17 10"></polyline>
                                <line x1="12" y1="15" x2="12" y2="3"></line>
                            </svg>
                            –°–∫–∞—á–∞—Ç—å –†–µ–∑—É–ª—å—Ç–∞—Ç
                        </button>
                        <button class="btn-primary" id="tryAgainBtn">
                            –ù–æ–≤–∞—è –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
                        </button>
                    </div>
                </div>
            </section>
        </main>

        <footer>
            <p>Powered by AI Vision & Nano Banana Pro</p>
        </footer>
    </div>

    <script src="js/app.js"></script>
</body>
</html>
