# üê≥ Docker Setup

–ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ —Å –ø–æ–º–æ—â—å—é Docker - —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±!

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Docker:

- ‚úÖ –û–¥–∏–Ω —Ç–µ—Ä–º–∏–Ω–∞–ª –≤–º–µ—Å—Ç–æ –¥–≤—É—Ö
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ä–µ–¥–∞
- ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Mac/Linux/Windows
- ‚úÖ –õ–µ–≥–∫–æ –¥–µ–ø–ª–æ–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:

- Docker Desktop —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: https://www.docker.com/products/docker-desktop/

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:

### 1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ .env —Ñ–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω:

```env
OPENAI_API_KEY=sk-–≤–∞—à-–∫–ª—é—á
REMOVEBG_API_KEY=
KIE_AI_API_KEY=–≤–∞—à-kie-ai-–∫–ª—é—á
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker:

```bash
# –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ (—Å–æ–±–∏—Ä–∞–µ—Ç –æ–±—Ä–∞–∑—ã)
docker-compose up --build

# –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–ø—É—Å–∫–∏
docker-compose up

# –í —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ (detached)
docker-compose up -d
```

### 3. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä:

- **Frontend:** http://localhost:8080
- **Backend API:** http://localhost:8000
- **API Docs:** http://localhost:8000/docs

## üõ†Ô∏è –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞:

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose down

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å volumes
docker-compose down -v
```

### –õ–æ–≥–∏:

```bash
# –í—Å–µ –ª–æ–≥–∏
docker-compose logs

# –õ–æ–≥–∏ backend
docker-compose logs backend

# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
docker-compose logs -f
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫:

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ
docker-compose restart

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ backend
docker-compose restart backend
```

### –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞:

```bash
# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑—ã
docker-compose build

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å
docker-compose up --build
```

### –û—á–∏—Å—Ç–∫–∞:

```bash
# –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –æ–±—Ä–∞–∑—ã
docker system prune

# –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞
docker system prune -a
```

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Docker:

```
–ü—Ä–∏–º–µ—Ä–∫–∞ –º–µ–±–µ–ª–∏/
‚îú‚îÄ‚îÄ Dockerfile              # Backend –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ docker-compose.yml      # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤
‚îú‚îÄ‚îÄ .dockerignore          # –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è Docker
‚îú‚îÄ‚îÄ .env                   # API –∫–ª—é—á–∏
‚îú‚îÄ‚îÄ backend/               # Backend –∫–æ–¥ (–º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è)
‚îú‚îÄ‚îÄ frontend/              # Frontend –∫–æ–¥ (–º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è)
‚îî‚îÄ‚îÄ data/                  # –î–∞–Ω–Ω—ã–µ (–º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è)
```

## üîÑ –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã:

### Development (—Ç–µ–∫—É—â–∏–π):

- –ö–æ–¥ –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ volume
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (hot reload)
- –£–¥–æ–±–Ω–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### Production:

–†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ nginx –≤ `docker-compose.yml`:

```yaml
nginx:
  image: nginx:alpine
  ports:
    - "80:80"
  volumes:
    - ./nginx.conf:/etc/nginx/nginx.conf
```

## üêõ –û—Ç–ª–∞–¥–∫–∞:

### –ó–∞–π—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:

```bash
# Backend
docker-compose exec backend bash

# Frontend
docker-compose exec frontend sh
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```bash
docker-compose exec backend env | grep API_KEY
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã:

```bash
docker-compose exec backend pip list
```

## üí° –°–æ–≤–µ—Ç—ã:

1. **–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –¥–æ–ª–≥–∏–π** (~5-10 –º–∏–Ω—É—Ç) - Docker —Å–æ–±–∏—Ä–∞–µ—Ç –æ–±—Ä–∞–∑—ã –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

2. **–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ requirements.txt** —Ç—Ä–µ–±—É—é—Ç –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏:
   ```bash
   docker-compose up --build
   ```

3. **–ü–æ—Ä—Ç—ã –∑–∞–Ω—è—Ç—ã?** –ò–∑–º–µ–Ω–∏—Ç–µ –≤ `docker-compose.yml`:
   ```yaml
   ports:
     - "8001:8000"  # –í–º–µ—Å—Ç–æ 8000
   ```

4. **–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞** –¥–æ–±–∞–≤—å—Ç–µ nginx –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ SSL

## üöÄ –î–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä:

```bash
# 1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä
scp -r "–ü—Ä–∏–º–µ—Ä–∫–∞ –º–µ–±–µ–ª–∏" user@server:/app/

# 2. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /app/"–ü—Ä–∏–º–µ—Ä–∫–∞ –º–µ–±–µ–ª–∏"
docker-compose up -d

# 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ nginx/caddy –¥–ª—è reverse proxy
```

---

**–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å –∑–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ - —ç—Ç–æ –æ–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞! üéâ

```bash
docker-compose up
```
